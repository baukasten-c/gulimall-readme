# 三级分类添加

1、问题：原有数据中添加三级菜单可以正常显示，新增二级菜单添加三级菜单不显示

2、进一步发现数据库中parent_cid大于127的数据都没有显示

![img](https://cdn.nlark.com/yuque/0/2023/png/2836791/1690535245526-f218307e-f813-4cbd-88e7-10cb5694f2e2.png)

![img](https://cdn.nlark.com/yuque/0/2023/png/2836791/1690535250718-6df92315-a41a-47a0-a0b6-7deeff5e4576.png)

3、参考https://blog.csdn.net/m0_56651338/article/details/126773158

3-1、Long 是一个包装类，用于封装 long 类型的值。对于 Long 类型，-128 到 127 的范围的值会被缓存，因此在这个范围内创建的 Long 对象会从缓存中取出，而不是新建对象。超出这个范围的值，每次都会创建新的对象

3-2、当进行 == 操作符比较两个 Long 类型的对象时，如果它们的值在 -128 到 127 范围内，它们会被视为同一对象，因为它们引用的是缓存中的同一个对象。因此，== 操作符在这种情况下会返回 true

3-3、对于超过 -128 到 127 范围的 Long 对象，由于每次创建的对象都是新的，它们的地址不同，因此 == 操作符会返回 false，因为它比较的是对象的引用地址

4、用于“递归查找所有菜单的子菜单”的方法中，不能用 == 而是应该用equals

![img](https://cdn.nlark.com/yuque/0/2023/png/2836791/1690536546362-5a6049eb-c8c7-4158-b9d9-285151f5acdf.png)

5、修改后可以正常显示

![img](https://cdn.nlark.com/yuque/0/2023/png/2836791/1690536621474-f55d1902-566f-430c-9364-d1ceba0feae7.png)